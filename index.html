<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="icon" href="./arbor-lines-proto-colour-notext.svg">
        <script src="https://cdn.plot.ly/plotly-2.1.0.min.js"></script>
        <script src="./pyodide.js"></script>
        <script src="./ace-min-noconflict/ace.js" type="text/javascript" charset="utf-8"></script>
        <title>Arbor Playground</title>
        <link href="index.css" rel="stylesheet">
    </head>
    <body>
        <!-- https://cssgrid-generator.netlify.app/ -->
        <img id="loader-icon" src="./loader.svg"></img>
        <div class="parent">
            <div class="navbar">
                <a id="brand" href="https://arbor-sim.org/">
                    <img src="https://docs.arbor-sim.org/en/latest/_static/arbor-lines-proto-colour.svg"></img> Playground </a>
                    <button type="button" id="run-btn">Run model</button>
                    <button type="button" id="welcome-btn">Load model</button>
            </div>
            <div class="left">
                <div id="editor"></div>
            </div>
            <div class="rtop">
                <div id="console-scroll">
                    <pre id="console"></pre>
                </div>
            </div>
            <div class="rbot">
               <div id="render-html-output"></div>
            </div>
            <div class="footer"></div>
            <div class="hresize"></div>
            <div class="vresize"></div>
        </div>
        <div id="welcome-modal" class="modal">
            <div class="modal-content">
                <span class="modal-close">&times;</span>
                <h2>Welcome to the Arbor Online Playground!</h2>
                This is an
                <a href="https://emscripten.org/">Emscripten</a>
                +
                <a href="https://pyodide.org/en/stable/"></a>
                Pyodide port of the
                <a href="https://arbor-sim.org/">Arbor Neural Simulator</a>.
                This website is meant to be a simple showcase of
                    neural modelling in Arbor.
                If you want to do serious work with it,
                    we recommend installing
                        arbor-gui for a graphical interface to arbor
                    or
                        the library itself via pip or building from source.
                While arbor is a stable robust simulator
                    designed to run large scale simulation on
                    thousands of CPU/GPU nodes, this port comes with some limitations.
                Notable, only single CPU simulations are supported
                    and custom mechanisms can not be loaded.
                When requesting unavailable hardware resources or loading
                    non existing morphology files,
                    pyodide will internally crash which
                    can only be resolved by refreshing the webpage.
                Loading of NeuroML morphologies is disabled because of libxml2 porting problems.
                Long running simulations will freeze the user interface.
                The initial page load can take a minute (or multiple minutes on a mobile phone).

                Please report any issues on <a href="https://github.com/llandsmeer/arbor-online/issues">GitHub</a>.

                <h3>Available example models</h3>
                <div id="available-models"></div>

            </div>
        </div>
        <script src="./index.js"> </script>
    </body>
</html>
